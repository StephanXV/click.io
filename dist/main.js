!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);let i=function(e,t){for(let n in t)e.style[n]=t[n]},o=function(e,t){for(let n in t)e.setAttribute(n,t[n])},r=function(e,t){let n;for(let i in e)if(e[i]===t){n=i;break}return e.splice(n,1)};var l=n.p+"5b500a7cd2a2eabf43482362626995ec.png",a=n.p+"8c1cf1ea3a4e4e0031722bf5d4e5d3b5.png";var d=function(e){let t,n;if(console.log("new Target()"),void 0===e)throw Error;this.handleClick=function(i){switch(console.log("Target: addingExpiringTimeout()"),i.stopPropagation(),clearInterval(n),e){case 0:this.showMinusOne();break;case 1:this.showPlusOne()}let o=new Event("destroy");t.dispatchEvent(o)}.bind(this);let o=function(){console.log("Target: init()"),t=document.createElement("div");let n=Math.random()+.4;switch(e){case 0:i(t,{width:50*n+"px",height:50*n+"px",borderRadius:"50%",backgroundColor:"green",position:"absolute"});break;case 1:i(t,{width:50*n+"px",height:50*n+"px",borderRadius:"50%",backgroundColor:"red",position:"absolute"})}t.addEventListener("click",this.handleClick)}.bind(this);this.attach=function(e){console.log("Target: attach()"),i(t,{left:Math.random()*(e.offsetWidth-100-t.offsetWidth)+"px",top:Math.random()*(e.offsetHeight-100-t.offsetHeight)+"px"}),e.appendChild(t)},this.detach=function(){console.log("Target: detach()"),t.parentElement.removeChild(t)},this.handleEvent=function(e,n){console.log("Target: handleEvent()"),t.addEventListener(e,n.bind(this))}.bind(this),this.handleTimeout=function(e,t){console.log("Target: handleTimeout()"),n=setTimeout(e.bind(this),t)}.bind(this),this.reset=function(){console.log("Target: reset()"),clearInterval(n)},this.showPlusOne=function(){const e=new Image;e.src=l,i(t,{backgroundColor:"white"}),i(e,{width:"50px",height:"50px"}),t.appendChild(e),t.removeEventListener("click",this.handleClick),setTimeout(function(){this.detach()}.bind(this),700)},this.showMinusOne=function(){const e=new Image;e.src=a,i(t,{backgroundColor:"white"}),i(e,{width:"50px",height:"50px"}),t.appendChild(e),t.removeEventListener("click",this.handleClick),setTimeout(function(){this.detach()}.bind(this),700)},o()};var c=function(e,t){console.log("new TargetManager()");let n,i,o,l,a=[],c=0,s=0,u=!1,p=1.1*t,h=15,m=.6*t;this.newTarget=function(e){console.log("TargetManager: newTarget("+e+")");let t=new d(e);switch(a.push(t),c++,e){case 0:t.handleTimeout((function(){console.log("Dodge! +1"),s++,this.showPlusOne(),a=r(a,this)}),1e3*p),t.handleEvent("destroy",(function(e){console.log("Ouch! -1"),s--,a=r(a,e),console.log("Total targets after destroy: "+c)}));break;case 1:t.handleTimeout((function(){console.log("Miss! -1"),s--,this.showMinusOne(),a=r(a,this)}),1e3*p),t.handleEvent("destroy",(function(e){console.log("Hit! +1"),s++,a=r(a,e),console.log("Total targets after destroy: "+c)}))}return t},this.append=function(t){console.log("TargetManager: append()"),t.attach(e)},this.getCounter=()=>c,this.isInGame=()=>u,this.getScore=()=>s,this.getTime=()=>h,this.getList=()=>a;let g=function(){console.log("TargetManager: init()"),u=!0,n=setInterval(this.createNewTarget,1e3*m),i=setTimeout(this.setupGameTimeout,1e3*h),l=setInterval(x,1e3)}.bind(this);this.reset=function(){console.log("TargetManager: reset()");let t=e.lastElementChild;for(;t;)e.removeChild(t),t=e.lastElementChild;a=[],c=0,s=0,u=!1,clearInterval(n),clearTimeout(i),clearInterval(l),clearInterval(o)},this.createNewTarget=function(){let e;console.log("TargetManager: createNewTarget()"),e=Math.random()<.5?this.newTarget(0):this.newTarget(1),this.append(e)}.bind(this),this.setupGameTimeout=function(){console.log("TargetManager: setupGameTimeout()"),clearInterval(n),o=setTimeout(f,1e3*p)}.bind(this);let f=function(){console.log("TargetManager: stopGame()"),clearInterval(l),u=!1},x=function(){console.log("TargetManager: decreaseTimer()"),h>0&&--h};g()};window.addEventListener("load",(function(){let e=document.createElement("link");o(e,{href:"https://fonts.googleapis.com/css?family=Iceland",rel:"stylesheet"}),document.head.appendChild(e);let t=document.getElementById("root");i(t,{position:"fixed",top:0,right:0,bottom:0,left:0});let n=document.createElement("sidebar");i(n,{display:"flex",flexDirection:"column",position:"absolute",top:0,right:"75%",bottom:0,left:0,margin:"10px 5px 10px 10px",padding:"5px",border:"solid",borderWidth:"1.5px",borderColor:"black",borderRadius:"0px",textAlign:"center"}),o(n,{id:"leftbar"}),t.appendChild(n);let r=document.createElement("div");i(r,{width:"100%",textAlign:"center"}),n.appendChild(r);let l=document.createElement("h1");l.innerText="Click.io",i(l,{fontFamily:"Iceland"}),r.appendChild(l);let a=document.createElement("p");a.innerText="Benvenuto su Click.io. Il tuo scopo Ã¨ quello di colpire i target rossi e di evitare quelli verdi. Buona fortuna!",i(a,{fontFamily:"Iceland"}),r.appendChild(a);let d=document.createElement("div");i(d,{display:"flex",flexDirection:"column",width:"100%",textAlign:"center"}),n.appendChild(d);let s=document.createElement("button");s.innerText="Start",i(s,{width:"70%",height:"30px",border:"solid",borderWidth:"1.5px",borderColor:"black",borderRadius:"0px",textAlign:"center",fontFamily:"Iceland",margin:"0px auto 10px auto"}),d.appendChild(s);let u=document.createElement("button");u.innerText="Reset",i(u,{width:"70%",height:"30px",border:"solid",borderWidth:"1.5px",borderColor:"black",borderRadius:"0px",textAlign:"center",fontFamily:"Iceland",margin:"0px auto 10px auto"});let p=document.createElement("div");i(p,{width:"70%",display:"flex",justifyContent:"space-around",textAlign:"center",margin:"100px auto 10px auto"}),d.appendChild(p);let h=document.createElement("div");i(h,{width:"70%",display:"flex",textAlign:"center",justifyContent:"space-between",margin:"0px auto 10px auto"}),d.appendChild(h);let m=document.createElement("span");m.innerText="Difficulty:",i(m,{fontFamily:"Iceland"}),p.appendChild(m);let g=document.createElement("span");g.innerText="Easy",i(g,{fontFamily:"Iceland"}),p.appendChild(g);let f=document.createElement("button");f.innerText="Easy",o(f,{id:"easy"}),i(f,{width:"30%",height:"30px",border:"solid",borderWidth:"1.5px",borderColor:"black",borderRadius:"0px",textAlign:"center",fontFamily:"Iceland"}),h.appendChild(f);let x=document.createElement("button");x.innerText="Medium",o(x,{id:"medium"}),i(x,{width:"30%",height:"30px",border:"solid",borderWidth:"1.5px",borderColor:"black",borderRadius:"0px",textAlign:"center",fontFamily:"Iceland"}),h.appendChild(x);let b=document.createElement("button");b.innerText="Hard",o(b,{id:"medium"}),i(b,{width:"30%",height:"30px",border:"solid",borderWidth:"1.5px",borderColor:"black",borderRadius:"0px",textAlign:"center",fontFamily:"Iceland"}),h.appendChild(b);let v=function(e){g.innerText=e},T=document.createElement("div");i(T,{width:"100%",textAlign:"center",marginTop:"150px"});let C=document.createElement("h1");i(C,{fontFamily:"Iceland"}),T.appendChild(C);let E=document.createElement("div");i(E,{width:"100%",textAlign:"center"});let w=document.createElement("h2");w.innerText="Score: 0",i(w,{fontFamily:"Iceland"}),E.appendChild(w);let y=document.createElement("section");i(y,{position:"absolute",top:0,right:0,bottom:0,left:"25%",margin:"10px 10px 10px 5px",border:"solid",borderWidth:"1.5px",borderColor:"black",borderRadius:"0px",padding:"50px"}),t.appendChild(y);let I=document.createElement("div");i(I,{pointerEvents:"none",position:"fixed",top:0,left:0,height:"100%",width:"100%",display:"flex",flexFlow:"column nowrap",justifyContent:"center",alignItems:"center"}),t.appendChild(I);let k=document.createElement("div");i(k,{pointerEvents:"auto",display:"flex",flexDirection:"column",height:"15%",width:"30%",border:"solid",borderWidth:"1.5px",borderColor:"black",borderRadius:"0px",textAlign:"center"});let M=document.createElement("div");M.innerText="GAME OVER",i(M,{margin:"10px auto 0px auto",fontFamily:"Iceland",fontSize:"24px",fontWeight:"bolder"}),k.appendChild(M);let A=document.createElement("div");A.innerText="0",i(A,{margin:"10px auto 0px auto",fontFamily:"Iceland",fontSize:"16px"}),k.appendChild(A);let F=document.createElement("button");F.innerText="Reset",i(F,{width:"50%",height:"30px",border:"solid",borderWidth:"1.5px",borderColor:"black",borderRadius:"0px",textAlign:"center",fontFamily:"Iceland",margin:"10px auto 0px auto"}),k.appendChild(F),f.addEventListener("click",()=>{v(f.innerText)}),x.addEventListener("click",()=>{v(x.innerText)}),b.addEventListener("click",()=>{v(b.innerText)}),s.addEventListener("click",e=>{W(),e.preventDefault()}),u.addEventListener("click",e=>{L(),R.reset(),e.preventDefault()}),F.addEventListener("click",e=>{L(),R.reset(),e.preventDefault()});let O,S,R,L=function(){n.removeChild(E),n.removeChild(T),d.removeChild(u),d.prepend(s),I.hasChildNodes()&&I.removeChild(k),clearInterval(O),clearInterval(S)},W=function(){let e;switch(console.log("Difficulty chosen: "+g.innerText),g.innerText){case"Easy":e=1.5;break;case"Medium":e=1;break;case"Hard":e=.7;break;default:e=1.5}R=new c(y,e),d.removeChild(s),d.prepend(u),C.innerText="Time left: "+R.getTime(),n.appendChild(T),n.appendChild(E),O=setInterval((function(){C.innerText="Time left: "+R.getTime()}),1e3),S=setInterval((function(){console.log(R.getList()),w.innerText="Score: "+R.getScore(),R.isInGame()||(j(),clearInterval(O),clearInterval(S))}),50)},j=function(){console.log("Punteggio: "+R.getScore()),A.innerText="Score: "+R.getScore(),I.appendChild(k)}}),!1)}]);